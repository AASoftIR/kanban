<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="648" height="558" contentStyleType="text/css" data-diagram-type="CLASS" style="width:648px;height:558px;background:#fff" preserveAspectRatio="none" version="1.1" viewBox="0 0 648 558" zoomAndPan="magnify"><g><g id="ent0002" class="entity" data-qualified-name="WeatherRequest" data-source-line="4"><rect style="stroke:#000;stroke-width:1" width="273.894" height="206.969" x="19.18" y="344.86" fill="#FFF" rx="2.5" ry="2.5"/><ellipse cx="93.745" cy="358.86" fill="#FFF" rx="9" ry="9" style="stroke:#000;stroke-width:1"/><path fill="#000" d="M96.7142,364.5006 Q96.1361,364.7975 95.4954,364.9381 Q94.8548,365.0944 94.1517,365.0944 Q91.6517,365.0944 90.3236,363.4538 Q89.0111,361.7975 89.0111,358.6725 Q89.0111,355.5475 90.3236,353.8913 Q91.6517,352.235 94.1517,352.235 Q94.8548,352.235 95.4954,352.3913 Q96.1517,352.5475 96.7142,352.8444 L96.7142,355.5631 Q96.0892,354.985 95.4954,354.7194 Q94.9017,354.4381 94.2767,354.4381 Q92.9329,354.4381 92.2454,355.5163 Q91.5579,356.5788 91.5579,358.6725 Q91.5579,360.7663 92.2454,361.8444 Q92.9329,362.9069 94.2767,362.9069 Q94.9017,362.9069 95.4954,362.6413 Q96.0892,362.36 96.7142,361.7819 L96.7142,364.5006 Z"/><text x="111.245" y="363.707" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="117.264">WeatherRequest</text><line style="stroke:#000;stroke-width:1" x1="20.18" x2="292.075" y1="372.86" y2="372.86"/><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="27.18" y="383.508" fill="none"/></g><text x="37.18" y="389.855" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="40.195">id: int</text><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="27.18" y="399.805" fill="none"/></g><text x="37.18" y="406.152" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="68.12">query: str</text><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="27.18" y="416.102" fill="none"/></g><text x="37.18" y="422.449" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="106.394">query_type: str</text><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="27.18" y="432.399" fill="none"/></g><text x="37.18" y="438.746" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="108.172">range_days: int</text><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="27.18" y="448.696" fill="none"/></g><text x="37.18" y="455.043" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="147.068">created_at: datetime</text><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="27.18" y="464.993" fill="none"/></g><text x="37.18" y="471.339" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="70.725">status: str</text><line style="stroke:#000;stroke-width:1" x1="20.18" x2="292.075" y1="478.641" y2="478.641"/><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="30.18" cy="492.29" fill="#FFF" rx="3" ry="3" style="stroke:#000;stroke-width:1"/></g><text x="37.18" y="495.636" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="43.695">save()</text><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="30.18" cy="508.587" fill="#FFF" rx="3" ry="3" style="stroke:#000;stroke-width:1"/></g><text x="37.18" y="511.933" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="153.289">update_status(status)</text><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="30.18" cy="524.883" fill="#FFF" rx="3" ry="3" style="stroke:#000;stroke-width:1"/></g><text x="37.18" y="528.23" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="217.068">get_by_id(id): WeatherRequest</text><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="30.18" cy="541.18" fill="#FFF" rx="3" ry="3" style="stroke:#000;stroke-width:1"/></g><text x="37.18" y="544.527" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="249.894">get_all(limit): List[WeatherRequest]</text></g><g id="ent0003" class="entity" data-qualified-name="WeatherDataFetcher" data-source-line="18"><rect style="stroke:#000;stroke-width:1" width="313.133" height="125.484" x="328.57" y="385.6" fill="#FFF" rx="2.5" ry="2.5"/><ellipse cx="408.242" cy="399.6" fill="#FFF" rx="9" ry="9" style="stroke:#000;stroke-width:1"/><path fill="#000" d="M411.2106,405.2406 Q410.6325,405.5375 409.9919,405.6781 Q409.3513,405.8344 408.6481,405.8344 Q406.1481,405.8344 404.82,404.1938 Q403.5075,402.5375 403.5075,399.4125 Q403.5075,396.2875 404.82,394.6313 Q406.1481,392.975 408.6481,392.975 Q409.3513,392.975 409.9919,393.1313 Q410.6481,393.2875 411.2106,393.5844 L411.2106,396.3031 Q410.5856,395.725 409.9919,395.4594 Q409.3981,395.1781 408.7731,395.1781 Q407.4294,395.1781 406.7419,396.2563 Q406.0544,397.3188 406.0544,399.4125 Q406.0544,401.5063 406.7419,402.5844 Q407.4294,403.6469 408.7731,403.6469 Q409.3981,403.6469 409.9919,403.3813 Q410.5856,403.1 411.2106,402.5219 L411.2106,405.2406 Z"/><text x="425.742" y="404.447" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="146.289">WeatherDataFetcher</text><line style="stroke:#000;stroke-width:1" x1="329.57" x2="640.703" y1="413.6" y2="413.6"/><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="336.57" y="424.248" fill="none"/></g><text x="346.57" y="430.595" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="81.067">api_key: str</text><line style="stroke:#000;stroke-width:1" x1="329.57" x2="640.703" y1="437.897" y2="437.897"/><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="339.57" cy="451.545" fill="#FFF" rx="3" ry="3" style="stroke:#000;stroke-width:1"/></g><text x="346.57" y="454.892" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="167.515">get_current(query): dict</text><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="339.57" cy="467.842" fill="#FFF" rx="3" ry="3" style="stroke:#000;stroke-width:1"/></g><text x="346.57" y="471.189" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="215.325">get_forecast(query, days): dict</text><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="339.57" cy="484.139" fill="#FFF" rx="3" ry="3" style="stroke:#000;stroke-width:1"/></g><text x="346.57" y="487.486" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="205.078">get_history(query, date): dict</text><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="339.57" cy="500.436" fill="#FFF" rx="3" ry="3" style="stroke:#000;stroke-width:1"/></g><text x="346.57" y="503.783" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="289.133">get_history_range(query, days_back): list</text></g><g id="ent0004" class="entity" data-qualified-name="ForecastEngine" data-source-line="27"><rect style="stroke:#000;stroke-width:1" width="295.653" height="141.781" x="337.31" y="69.04" fill="#FFF" rx="2.5" ry="2.5"/><ellipse cx="427.373" cy="83.04" fill="#FFF" rx="9" ry="9" style="stroke:#000;stroke-width:1"/><path fill="#000" d="M430.3413,88.6806 Q429.7631,88.9775 429.1225,89.1181 Q428.4819,89.2744 427.7788,89.2744 Q425.2788,89.2744 423.9506,87.6338 Q422.6381,85.9775 422.6381,82.8525 Q422.6381,79.7275 423.9506,78.0713 Q425.2788,76.415 427.7788,76.415 Q428.4819,76.415 429.1225,76.5713 Q429.7788,76.7275 430.3413,77.0244 L430.3413,79.7431 Q429.7163,79.165 429.1225,78.8994 Q428.5288,78.6181 427.9038,78.6181 Q426.56,78.6181 425.8725,79.6963 Q425.185,80.7588 425.185,82.8525 Q425.185,84.9463 425.8725,86.0244 Q426.56,87.0869 427.9038,87.0869 Q428.5288,87.0869 429.1225,86.8213 Q429.7163,86.54 430.3413,85.9619 L430.3413,88.6806 Z"/><text x="444.873" y="87.887" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="108.028">ForecastEngine</text><line style="stroke:#000;stroke-width:1" x1="338.31" x2="631.963" y1="97.04" y2="97.04"/><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="345.31" y="107.688" fill="none"/></g><text x="355.31" y="114.035" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="205.427">fetcher: WeatherDataFetcher</text><line style="stroke:#000;stroke-width:1" x1="338.31" x2="631.963" y1="121.337" y2="121.337"/><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="348.31" cy="134.985" fill="#FFF" rx="3" ry="3" style="stroke:#000;stroke-width:1"/></g><text x="355.31" y="138.332" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="186.908">analyze_history(data): dict</text><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="348.31" cy="151.282" fill="#FFF" rx="3" ry="3" style="stroke:#000;stroke-width:1"/></g><text x="355.31" y="154.629" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="255.76">generate_forecast(query, days): dict</text><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="348.31" cy="167.579" fill="#FFF" rx="3" ry="3" style="stroke:#000;stroke-width:1"/></g><text x="355.31" y="170.926" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="257.619">process_json_upload(json_data): dict</text><g data-visibility-modifier="PRIVATE_METHOD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="345.31" y="180.876" fill="#FFF"/></g><text x="355.31" y="187.223" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="212.003">_calculate_trend(values): float</text><g data-visibility-modifier="PRIVATE_METHOD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="345.31" y="197.173" fill="#FFF"/></g><text x="355.31" y="203.519" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="271.653">_moving_average(values, window): list</text></g><g id="ent0005" class="entity" data-qualified-name="ForecastResult" data-source-line="37"><rect style="stroke:#000;stroke-width:1" width="288.264" height="255.859" x="12" y="12" fill="#FFF" rx="2.5" ry="2.5"/><ellipse cx="100.415" cy="26" fill="#FFF" rx="9" ry="9" style="stroke:#000;stroke-width:1"/><path fill="#000" d="M103.3838,31.6406 Q102.8057,31.9375 102.165,32.0781 Q101.5244,32.2344 100.8213,32.2344 Q98.3213,32.2344 96.9932,30.5938 Q95.6807,28.9375 95.6807,25.8125 Q95.6807,22.6875 96.9932,21.0313 Q98.3213,19.375 100.8213,19.375 Q101.5244,19.375 102.165,19.5313 Q102.8213,19.6875 103.3838,19.9844 L103.3838,22.7031 Q102.7588,22.125 102.165,21.8594 Q101.5713,21.5781 100.9463,21.5781 Q99.6025,21.5781 98.915,22.6563 Q98.2275,23.7188 98.2275,25.8125 Q98.2275,27.9063 98.915,28.9844 Q99.6025,30.0469 100.9463,30.0469 Q101.5713,30.0469 102.165,29.7813 Q102.7588,29.5 103.3838,28.9219 L103.3838,31.6406 Z"/><text x="117.915" y="30.847" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="103.934">ForecastResult</text><line style="stroke:#000;stroke-width:1" x1="13" x2="299.264" y1="40" y2="40"/><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="20" y="50.648" fill="none"/></g><text x="30" y="56.995" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="40.195">id: int</text><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="20" y="66.945" fill="none"/></g><text x="30" y="73.292" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="100.721">request_id: int</text><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="20" y="83.242" fill="none"/></g><text x="30" y="89.589" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="129.958">location_name: str</text><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="20" y="99.539" fill="none"/></g><text x="30" y="105.886" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="81.245">country: str</text><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="20" y="115.836" fill="none"/></g><text x="30" y="122.183" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="94.329">latitude: float</text><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="20" y="132.133" fill="none"/></g><text x="30" y="138.48" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="106.586">longitude: float</text><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="20" y="148.43" fill="none"/></g><text x="30" y="154.776" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="123.163">forecast_data: str</text><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="20" y="164.727" fill="none"/></g><text x="30" y="171.073" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="135.304">current_temp: float</text><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="20" y="181.023" fill="none"/></g><text x="30" y="187.37" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="160.501">current_humidity: float</text><g data-visibility-modifier="PRIVATE_FIELD"><rect style="stroke:#000;stroke-width:1" width="6" height="6" x="20" y="197.32" fill="none"/></g><text x="30" y="203.667" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="150.493">current_condition: str</text><line style="stroke:#000;stroke-width:1" x1="13" x2="299.264" y1="210.969" y2="210.969"/><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="23" cy="224.617" fill="#FFF" rx="3" ry="3" style="stroke:#000;stroke-width:1"/></g><text x="30" y="227.964" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="43.695">save()</text><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="23" cy="240.914" fill="#FFF" rx="3" ry="3" style="stroke:#000;stroke-width:1"/></g><text x="30" y="244.261" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="171.5">get_forecast_data(): dict</text><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="23" cy="257.211" fill="#FFF" rx="3" ry="3" style="stroke:#000;stroke-width:1"/></g><text x="30" y="260.558" fill="#000" font-family="Verdana" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="264.264">get_by_request_id(id): ForecastResult</text></g><g id="lnk6" class="link" data-entity-1="ent0004" data-entity-2="ent0003" data-link-type="dependency" data-source-line="54"><path id="ForecastEngine-to-WeatherDataFetcher" fill="none" d="M485.13,211.23 C485.13,263.71 485.13,328.75 485.13,379.17" codeLine="54" style="stroke:#000;stroke-width:1"/><polygon fill="#000" points="485.13 385.17 489.13 376.17 485.13 380.17 481.13 376.17 485.13 385.17" style="stroke:#000;stroke-width:1"/><text x="486.13" y="310.927" fill="#000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="29.783">uses</text></g><g id="lnk7" class="link" data-entity-1="ent0005" data-entity-2="ent0002" data-link-type="dependency" data-source-line="55"><path id="ForecastResult-to-WeatherRequest" fill="none" d="M156.13,268.22 C156.13,293.7 156.13,314.17 156.13,338.7" codeLine="55" style="stroke:#000;stroke-width:1"/><polygon fill="#000" points="156.13 344.7 160.13 335.7 156.13 339.7 152.13 335.7 156.13 344.7" style="stroke:#000;stroke-width:1"/><text x="157.13" y="310.927" fill="#000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="68.263">belongs to</text></g></g></svg>