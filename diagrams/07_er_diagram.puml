
@startuml ERDiagram
' Rational Rose-like styling (classic UML look)
skinparam monochrome true
skinparam shadowing false
skinparam BackgroundColor white
skinparam DefaultFontName Arial
skinparam classAttributeIconSize 0

' Represent tables using UML classes with a <<table>> stereotype
class "weather_request" as WR <<table>> {
    +id: INTEGER <<PK>>
    --
    +query: TEXT
    +query_type: TEXT
    +range_days: INTEGER
    +created_at: TIMESTAMP
    +status: TEXT
}

class "forecast_result" as FR <<table>> {
    +id: INTEGER <<PK>>
    --
    +request_id: INTEGER <<FK>>
    +location_name: TEXT
    +country: TEXT
    +latitude: REAL
    +longitude: REAL
    +forecast_data: TEXT
    +current_temp: REAL
    +current_humidity: REAL
    +current_condition: TEXT
    +created_at: TIMESTAMP
}

class "historical_cache" as HC <<table>> {
    +id: INTEGER <<PK>>
    --
    +location_query: TEXT
    +date: TEXT
    +avg_temp: REAL
    +max_temp: REAL
    +min_temp: REAL
    +humidity: REAL
    +condition: TEXT
    +cached_at: TIMESTAMP
}

WR "1" o-- "0..*" FR : has

@enduml
